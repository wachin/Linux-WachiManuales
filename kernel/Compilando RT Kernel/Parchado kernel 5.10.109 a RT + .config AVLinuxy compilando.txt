Entro al Sistema Operativo con el Kernel de MX Linux 21

Dependencias

Debemos instalar las siguientes dependencias para poder compilarlo:

sudo apt-get install libncurses5-dev fakeroot wget xz-utils flex bison libssl-dev


Longterm release kernels
https://www.kernel.org/category/releases.html

Version 	Maintainer 	                 Released 	Projected EOL
5.15 	Greg Kroah-Hartman & Sasha Levin 	2021-10-31 	Oct, 2023
5.10 	Greg Kroah-Hartman & Sasha Levin 	2020-12-13 	Dec, 2026
5.4 	Greg Kroah-Hartman & Sasha Levin 	2019-11-24 	Dec, 2025
4.19 	Greg Kroah-Hartman & Sasha Levin 	2018-10-22 	Dec, 2024
4.14 	Greg Kroah-Hartman & Sasha Levin 	2017-11-12 	Jan, 2024
4.9 	Greg Kroah-Hartman & Sasha Levin 	2016-12-11 	Jan, 2023


Siguiendo las instrucciones de:

System configuration [Linux-Sound]
https://wiki.linuxaudio.org/wiki/system_configuration#do_i_really_need_a_real-time_kernel

Me voy a descargar el siguiente Kernel:


PARCHE

patch-5.10.109-rt65.patch.xz                       07-Apr-2022 03:09    171K

https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/
https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/5.10/
https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/5.10/patch-5.10.109-rt65.patch.xz

y el parque Real Time para esa versión:


KERNEL

linux-5.10.109.tar.xz                              28-Mar-2022 08:03    115M

https://mirrors.edge.kernel.org/pub/linux/kernel/
https://mirrors.edge.kernel.org/pub/linux/kernel/v5.x/
https://mirrors.edge.kernel.org/pub/linux/kernel/v5.x/linux-5.10.109.tar.xz


DESCARGA

wget -c https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/5.10/patch-5.10.109-rt65.patch.xz
wget -c https://mirrors.edge.kernel.org/pub/linux/kernel/v5.x/linux-5.10.109.tar.xz

INSTALACIÓN

tar xJvf linux-5.10.109.tar.xz
cd linux-5.10.109
xzcat ../patch-5.10.109-rt65.patch.xz | patch -p1
wget -c https://github.com/wachin/AV-Linux-archivos-importantes/raw/master/AVL-MXE-2021.05.22-xfce4-openbox-i386.iso/usr/src/linux-headers-5.9.1-rt19avl1/.config


y si activamos el ver los archivos ocultos, ejemplo en Thunar con Ctrl + H vemos ahora el archivo:

.config

abrir ese archivo con un editor de texto como Gedit y buscar la línea:

CONFIG_SYSTEM_TRUSTED_KEYS

allí borrar lo que esté dentro de las comillas, en mi caso estaba así (en otro Linux puede que esté otra cosa):

CONFIG_SYSTEM_TRUSTED_KEYS="debian/certs/debian-uefi-certs.pem"

y lo dejé así:

CONFIG_SYSTEM_TRUSTED_KEYS=""

Guardar el archivo y cerrar el editor de texto.

Ahora poner allí mismo en la terminal:

make menuconfig


CONFIGURAR EL TIEMPO REAL
Seleccionar en: 

General setup ---> Preemption Model (xxxx)--->

elegir:

- Fully Preemptible Kernel (Real Time)



exFAT

Este Kernel si tiene soporte:

File Systems ---> DOS/FAT/exFAT 



PONER EL TIMER A 1000 Hz
En:

Processor type and features ---> Timer Frecuency (xxx) ---

entrar y chequear la frecuencia a 1000 Hz

salir
 



*********************************************************


Con el .config del Kernel por defecto tiene 

schedutil

 en:

Power management and ACPI options --- 

CPU Frequency scaling ---

Default CPUFreq governor (schedutil)

voy a ver si al usar otro .config cambia a performance




make deb-pkg LOCALVERSION=-wachin KDEB_PKGVERSION=$(make kernelversion)-1

















